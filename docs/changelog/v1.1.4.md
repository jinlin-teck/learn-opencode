# v1.1.4：文件智能补全 + 桌面版单实例

**发布日期**：2026年1月6日

---

## 一句话总结

这次更新带来了**基于使用频率的文件智能补全**，常用文件会排在前面，桌面版也支持单实例模式了。

---

## 新功能：智能文件补全

### 这次更新了什么？

文件自动补全现在会**记住你的使用习惯**，常用文件会排在补全列表的前面。

### 工作原理

OpenCode 会记录你引用文件的频率和时间（frecency 算法），综合计算出最可能需要的文件。

### 效果

- 经常编辑的文件会排在前面
- 最近用过的文件优先级更高
- 不用每次都翻找文件列表

---

## 新功能：URL 指令

### 这次更新了什么？

你现在可以在 `CLAUDE.md` 或 `AGENTS.md` 中引用**远程 URL 作为指令**。

### 使用场景

- 团队共享的编码规范放在公司 Wiki
- 项目文档放在 Notion 或 Confluence
- 不用复制粘贴，直接引用 URL

### 如何使用？

在 `CLAUDE.md` 中添加：

```markdown
## 编码规范

参考：https://wiki.company.com/coding-standards
```

OpenCode 会自动获取 URL 内容作为上下文。

---

## 桌面版：单实例模式

### 之前的问题

多次点击桌面图标会打开多个窗口，容易混乱。

### 现在的情况

现在只会有**一个窗口**，再次点击图标会激活已有窗口。

---

## 改进：OAuth 登录复制快捷键

### 这次更新了什么？

在 OAuth 登录流程中，按 `c` 键可以**快速复制设备码**，不用手动选中复制了。

---

## 改进：子任务可点击

### 这次更新了什么？

桌面版的任务列表中，子任务现在**可以点击**查看详情了。

---

## 改进：Bedrock 东京区域支持

### 这次更新了什么？

使用 Amazon Bedrock 东京区域（ap-northeast-1）时，现在会**自动添加 jp. 前缀**。

之前需要手动配置，现在自动处理了。

---

## 要不要升级？

| 情况 | 建议 |
|------|------|
| 经常引用文件 | ✅ 升级，智能补全很方便 |
| 使用桌面版 | ✅ 升级 |
| 使用 Bedrock 东京区域 | ✅ 升级 |
| 用得好好的 | 可以等下次 |

**升级命令**：

```bash
opencode upgrade
```

---

## 技术细节（可跳过）

<details>
<summary>点击展开完整更新列表</summary>

### Core（核心）

- 添加超时防止操作挂起（@spoons-and-mirrors）
- 支持 URL 指令（@spoons-and-mirrors）
- 加载 OPENCODE_CONFIG_DIR 中的 AGENTS.md 到系统提示词（@ThomasGormley）
- 修复子任务消息的标题生成，提取实际用户提示词
- 确保自定义代理请求体不发送 name 字段
- 恢复按代理权限过滤 skill（@malhashemi）
- 修复 skill 工具中缺失的 await（@mwolting）
- 防止 Java 语言服务器路径检查抛出错误（@T1mn）
- 东京区域自动添加 jp. 前缀（@ikeda-tomoya-swx）
- 优化文档 markdown 措辞和大小写（@T1mn）
- 过滤死亡的 worktree
- 处理 git 不可用或未初始化的情况
- 升级 OpenTUI 到 v0.1.69，提升文本渲染性能

### TUI（终端界面）

- 添加基于 frecency 的文件自动补全（@galkatz373）
- OAuth 流程中按 c 复制设备码（@akinfelami）
- 修复侧边栏标题内边距防止滚动条边缘情况（@ryanwyler）

### Desktop（桌面版）

- 修复终端复制粘贴
- 修复桌面版文档
- 提高终端文字对比度
- 审查侧边栏添加查看按钮打开文件（@justrau）
- 从选择器选择文件时打开审查侧边栏（@justrau）
- 审查侧边栏支持中键关闭标签页（@justrau）
- 代码分割提升 Web 加载性能
- 改进滚动 store 性能
- 更新 Cargo.lock（@Brendonovich）
- 添加单实例插件防止多窗口（@Junseo5）
- 子任务可点击查看详情（@OpeOginni）

### 社区贡献

感谢 21 位社区贡献者！

</details>

---

[← 返回更新日志](./index.md)
