# v1.1.7：交互式问答 + 移动端优化

**发布日期**：2026年1月8日

---

## 一句话总结

这次更新新增了**交互式问答工具**，让 AI 可以主动向你提问收集信息，同时优化了窄屏/移动端体验。

---

## 新功能：交互式问答工具

### 这次更新了什么？

AI 现在可以**主动向你提问**，收集你的偏好和需求，而不是猜测你想要什么。

### 使用场景

比如你说「帮我创建一个项目」，AI 可能会问：

- 使用什么框架？（React / Vue / Svelte）
- 需要 TypeScript 吗？（是 / 否）
- 要配置哪些工具？（ESLint / Prettier / 测试框架）

你选择后，AI 再按你的选择执行，避免做出不符合预期的决定。

### 为什么有用？

之前 AI 遇到不确定的情况，要么猜测（可能猜错），要么停下来用文字问你（不方便选择）。现在有了结构化的问答界面，交互更清晰。

---

## 改进：窄屏/移动端体验

### 这次更新了什么？

在窄屏幕（手机、小窗口）下：

- 侧边栏改为**覆盖式弹出**，不再挤压主内容
- 自动隐藏顶部和底部栏，留出更多空间
- 自动补全高度自适应屏幕

### 效果

在手机或小窗口使用 OpenCode 更舒服了。

---

## 改进：长命令输出可折叠

### 之前的问题

执行一个输出很长的命令（比如 `npm install`），整个输出会占满屏幕，很难看到其他内容。

### 现在的情况

长命令输出现在**默认折叠**，点击可展开查看完整内容。

---

## 改进：配置优先级修复

### 之前的问题

本地项目配置（`.opencode/settings.json`）有时候无法覆盖全局配置。

### 现在的情况

配置优先级现在正确工作：**项目配置 > 全局配置 > 远程配置**。

---

## 桌面版：外部链接在浏览器打开

### 之前的问题

点击对话中的链接，会在桌面应用内打开，体验不好。

### 现在的情况

外部链接现在会在**默认浏览器**中打开。

---

## 要不要升级？

| 情况 | 建议 |
|------|------|
| 经常在手机/小屏幕使用 | ✅ 升级 |
| 希望 AI 更智能地提问 | ✅ 升级 |
| 配置覆盖不生效 | ✅ 升级 |
| 用得好好的 | 可以等下次 |

**升级命令**：

```bash
opencode upgrade
```

---

## 技术细节（可跳过）

<details>
<summary>点击展开完整更新列表</summary>

### Core（核心）

- 添加交互式问答工具，用于收集用户偏好和澄清指令
- ACP tool_call_update 事件添加 kind、title、rawInput 字段（@noamzbr）
- debug 命令添加帮助文本（@assagman）
- 允许禁用 .claude 提示词和 skills 加载（@freespace8）
- 修复生成标题时 transform 选项冲突问题
- 长工具输出写入文件
- 简化 Task 工具子代理过滤逻辑（@malhashemi）
- 改进标题生成，避免重复的「Analyzing...」前缀
- 修复 MCP OAuth 发现时使用正确的授权服务器 URL（@rscarvalho）
- 配置优先级修复，本地配置正确覆盖远程配置（@elithrar）
- 更新 Homebrew formula

### TUI（终端界面）

- 恢复权限重构中移除的 showDetails 检查（@ryanwyler）
- 致命错误退出时正确恢复终端状态（@itsrainingmani）
- 侧边栏可见时隐藏顶部和底部栏，优化响应式布局
- 简化会话设置管理（@maxstevens-nl）
- 窄屏幕使用覆盖式侧边栏
- 长命令输出可折叠展开
- 移除用户名显示开关，简化用户消息元数据
- 改进问答选项的缩进和标签清晰度
- 分叉对话时正确插入消息文本到输入框（@ariane-emory）
- 权限选择文本使用选中前景色（@ariane-emory）
- 自动补全高度限制在可用屏幕空间内（@Raviguntakala）
- 橙色主题添加 selectedListItemText 提升按钮文字可见性（@ThanhNguyxn）

### Desktop（桌面版）

- 显示没有有效 release_date 的自定义模型（@zerone0x）
- 外部链接在默认浏览器打开（@athal7）

### 社区贡献

感谢 15 位社区贡献者！

</details>

---

[← 返回更新日志](./index.md)
