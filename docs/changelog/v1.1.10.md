# v1.1.10：稳定性大升级

**发布日期**：2026年1月9日

---

## 一句话总结

这次更新主要是**稳定性和体验优化**，修复了分叉会话丢失、配置错误静默失败等问题，桌面版也更好用了。

---

## 重要修复：配置错误不再静默失败

### 之前的问题

如果你的配置文件（`settings.json`）有语法错误，OpenCode 会**直接退出**，不告诉你哪里出错了。很多用户以为是软件 bug，其实是配置写错了。

### 现在的情况

现在 OpenCode 会**明确报告配置错误**，告诉你具体哪里出了问题，方便你快速修复。

---

## 重要修复：分叉会话不再丢失

### 之前的问题

使用「分叉会话」功能（从某条消息开始新对话）时，如果会话经过了压缩（compaction），分叉后的会话可能会**丢失消息**或显示异常。

### 现在的情况

修复了父子消息引用关系，分叉会话现在可以正常工作了。

👉 **相关教程**：[上下文压缩](/5-advanced/20-compaction)

---

## 改进：插件去重机制

### 这次更新了什么？

如果你配置了多个同名插件（比如在全局和项目配置中都配置了同一个插件），OpenCode 现在会**按优先级自动去重**，避免重复加载。

**优先级规则**：项目配置 > 全局配置

---

## 桌面版改进

这次桌面版有不少体验优化：

| 改进 | 说明 |
|------|------|
| 终端光标优化 | 光标改为竖线样式，失焦时停止闪烁 |
| Zen 模式修复 | 新会话时模型选择器不再溢出 |
| 符号链接支持 | 完整支持 symlink，方便 monorepo 项目 |
| 终端/审查面板记忆 | 每个会话独立记住面板显示状态 |

---

## Bedrock 用户：API Key 登录

### 这次更新了什么？

使用 Amazon Bedrock 的用户，现在可以在 `opencode auth login` 时直接输入 API Key 了。

之前只能通过环境变量或 AWS CLI 配置，现在多了一种更方便的方式。

---

## 要不要升级？

| 情况 | 建议 |
|------|------|
| 遇到过配置错误导致闪退 | ✅ 升级 |
| 用过分叉会话功能 | ✅ 升级 |
| 使用桌面版 | ✅ 升级 |
| 用得好好的 | 可以等下次 |

**升级命令**：

```bash
opencode upgrade
```

---

## 技术细节（可跳过）

<details>
<summary>点击展开完整更新列表</summary>

### Core（核心）

- 禁用 server 模式，除非明确启用
- 配置错误时报告具体错误，而非静默退出（@ariane-emory）
- 升级 OpenTUI 到 v0.1.72
- 修复分叉会话在压缩后丢失父子消息引用的问题（@ryanwyler）
- 升级 OpenTUI 到 v0.1.71，修复能力检测和 Kitty 键盘支持
- 按优先级去重同名插件（@devxoul）
- 升级 Copilot 插件版本
- 修复模型对话框搜索问题，防止废弃模型出现在收藏/最近列表

### TUI（终端界面）

- Bedrock 登录时支持 API Key 输入（@Raviguntakala）

### Desktop（桌面版）

- 移除内联 JavaScript
- 移除自定义 URL 参数
- 修复 Zen 模式下新会话模型选择器溢出（@0xajka）
- 完整实现符号链接支持，启用 PR CI（@jerome-benoit）
- 每个会话独立存储终端和审查面板可见性
- 终端光标改为竖线，失焦时停止闪烁（@dbpolito）

### 社区贡献

- @RD201：文档添加 Scaleway 提供商
- @dbpolito：桌面版终端光标优化
- @devxoul：插件去重机制
- @jerome-benoit：符号链接支持
- @0xajka：Zen 模式修复
- @ryanwyler：分叉会话修复
- @Raviguntakala：Bedrock API Key 登录
- @ariane-emory：配置错误报告

</details>

---

[← 返回更新日志](./index.md)
